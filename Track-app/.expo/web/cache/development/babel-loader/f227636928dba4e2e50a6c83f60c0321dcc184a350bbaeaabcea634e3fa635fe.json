{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport createDataContext from \"./createDataContext\";\nimport tracker from \"../api/tracker\";\nvar trackReducer = function trackReducer(action, state) {\n  switch (action.type) {\n    case \"SIGN_UP\":\n      console.log(action.payload);\n      return [].concat(_toConsumableArray(state), [{\n        token: action.payload\n      }]);\n    case \"SIGN_IN\":\n      console.log(action.payload);\n    default:\n      return state;\n  }\n};\nvar signUp = function signUp(dispatch) {\n  return function () {\n    var _ref2 = _asyncToGenerator(function* (_ref) {\n      var email = _ref.email,\n        password = _ref.password;\n      try {\n        var response = yield tracker.post('/signup', {\n          email: email,\n          password: password\n        });\n        dispatch({\n          type: \"SIGN_UP\",\n          payload: response.data.token\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nvar signIn = function signIn() {\n  return function () {\n    var _ref4 = _asyncToGenerator(function* (_ref3) {\n      var email = _ref3.email,\n        password = _ref3.password;\n      try {\n        var response = yield tracker.post('/signin', {\n          email: email,\n          password: password\n        });\n        dispatch({\n          type: \"SIGN_UP\",\n          payload: response.data.token\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nvar signOut = function signOut() {};\nvar _createDataContext = createDataContext(trackReducer, {\n    signUp: signUp,\n    signIn: signIn\n  }, []),\n  Context = _createDataContext.Context,\n  Provider = _createDataContext.Provider;\nexport { Context, Provider };","map":{"version":3,"names":["createDataContext","tracker","trackReducer","action","state","type","console","log","payload","concat","_toConsumableArray","token","signUp","dispatch","_ref2","_asyncToGenerator","_ref","email","password","response","post","data","error","_x","apply","arguments","signIn","_ref4","_ref3","_x2","signOut","_createDataContext","Context","Provider"],"sources":["D:/Programming/native/Track/Track-app/src/context/TrackContext.js"],"sourcesContent":["import createDataContext from \"./createDataContext\";\nimport tracker from \"../api/tracker\";\n\nconst trackReducer = (action, state) => {\n  switch (action.type) {\n    case \"SIGN_UP\":\n      console.log(action.payload)\n      return [...state, {token: action.payload}]\n    case \"SIGN_IN\":\n      console.log(action.payload)\n    default:\n      return state\n  }\n}\n\nconst signUp = (dispatch) => {\n  return async ( {email, password} ) => {\n    try {\n      const response = await tracker.post('/signup', {email:email,password:password})\n      dispatch({ type: \"SIGN_UP\", payload: response.data.token })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst signIn = () => {\n  return async ( {email, password} ) => {\n    try {\n      const response = await tracker.post('/signin', {email:email,password:password})\n      dispatch({ type: \"SIGN_UP\", payload: response.data.token })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst signOut = () =>{\n  // get a {email, password}\n  //handle success by updating state to IF user is signed in\n}\n\nexport const {Context, Provider} = createDataContext(\n  trackReducer,\n  { signUp,signIn },\n  []\n)"],"mappings":";;AAAA,OAAOA,iBAAiB;AACxB,OAAOC,OAAO;AAEd,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,MAAM,EAAEC,KAAK,EAAK;EACtC,QAAQD,MAAM,CAACE,IAAI;IACjB,KAAK,SAAS;MACZC,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACK,OAAO,CAAC;MAC3B,UAAAC,MAAA,CAAAC,kBAAA,CAAWN,KAAK,IAAE;QAACO,KAAK,EAAER,MAAM,CAACK;MAAO,CAAC;IAC3C,KAAK,SAAS;MACZF,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACK,OAAO,CAAC;IAC7B;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC;AAED,IAAMQ,MAAM,GAAG,SAATA,MAAMA,CAAIC,QAAQ,EAAK;EAC3B;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAO,WAAAC,IAAA,EAA+B;MAAA,IAAtBC,KAAK,GAAAD,IAAA,CAALC,KAAK;QAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;MAC7B,IAAI;QACF,IAAMC,QAAQ,SAASlB,OAAO,CAACmB,IAAI,CAAC,SAAS,EAAE;UAACH,KAAK,EAACA,KAAK;UAACC,QAAQ,EAACA;QAAQ,CAAC,CAAC;QAC/EL,QAAQ,CAAC;UAAER,IAAI,EAAE,SAAS;UAAEG,OAAO,EAAEW,QAAQ,CAACE,IAAI,CAACV;QAAM,CAAC,CAAC;MAC7D,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAC;MACpB;IACF,CAAC;IAAA,iBAAAC,EAAA;MAAA,OAAAT,KAAA,CAAAU,KAAA,OAAAC,SAAA;IAAA;EAAA;AACH,CAAC;AAED,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;EACnB;IAAA,IAAAC,KAAA,GAAAZ,iBAAA,CAAO,WAAAa,KAAA,EAA+B;MAAA,IAAtBX,KAAK,GAAAW,KAAA,CAALX,KAAK;QAAEC,QAAQ,GAAAU,KAAA,CAARV,QAAQ;MAC7B,IAAI;QACF,IAAMC,QAAQ,SAASlB,OAAO,CAACmB,IAAI,CAAC,SAAS,EAAE;UAACH,KAAK,EAACA,KAAK;UAACC,QAAQ,EAACA;QAAQ,CAAC,CAAC;QAC/EL,QAAQ,CAAC;UAAER,IAAI,EAAE,SAAS;UAAEG,OAAO,EAAEW,QAAQ,CAACE,IAAI,CAACV;QAAM,CAAC,CAAC;MAC7D,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdhB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAC;MACpB;IACF,CAAC;IAAA,iBAAAO,GAAA;MAAA,OAAAF,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA;AACH,CAAC;AAED,IAAMK,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAQ,CAGrB,CAAC;AAEM,IAAAC,kBAAA,GAA4B/B,iBAAiB,CAClDE,YAAY,EACZ;IAAEU,MAAM,EAANA,MAAM;IAACc,MAAM,EAANA;EAAO,CAAC,EACjB,EACF,CAAC;EAJaM,OAAO,GAAAD,kBAAA,CAAPC,OAAO;EAAEC,QAAQ,GAAAF,kBAAA,CAARE,QAAQ;AAI9B,SAAAD,OAAA,EAAAC,QAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}