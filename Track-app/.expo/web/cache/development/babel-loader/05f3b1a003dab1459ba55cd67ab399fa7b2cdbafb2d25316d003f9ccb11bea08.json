{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport createDataContext from \"./createDataContext\";\nimport tracker from \"../api/tracker\";\nvar trackReducer = function trackReducer(action, state) {\n  switch (action.type) {\n    case \"SIGN_UP\":\n      console.log(action.payload);\n      state.token = action.payload;\n    default:\n      return state;\n  }\n};\nvar signUp = function signUp(dispatch) {\n  return function () {\n    var _ref2 = _asyncToGenerator(function* (_ref) {\n      var email = _ref.email,\n        password = _ref.password;\n      try {\n        var response = yield tracker.post('/signup', {\n          email: email,\n          password: password\n        });\n        dispatch({\n          type: \"SIGN_UP\",\n          payload: response.data.token\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nvar signIn = function signIn() {};\nvar signOut = function signOut() {};\nvar _createDataContext = createDataContext(trackReducer, {\n    signUp: signUp\n  }, []),\n  Context = _createDataContext.Context,\n  Provider = _createDataContext.Provider;\nexport { Context, Provider };","map":{"version":3,"names":["createDataContext","tracker","trackReducer","action","state","type","console","log","payload","token","signUp","dispatch","_ref2","_asyncToGenerator","_ref","email","password","response","post","data","error","_x","apply","arguments","signIn","signOut","_createDataContext","Context","Provider"],"sources":["D:/Programming/native/Track/Track-app/src/context/TrackContext.js"],"sourcesContent":["import createDataContext from \"./createDataContext\";\nimport tracker from \"../api/tracker\";\n\nconst trackReducer = (action, state) => {\n  switch (action.type) {\n    case \"SIGN_UP\":\n      console.log(action.payload)\n      state.token = action.payload\n    default:\n      return state\n  }\n}\n\nconst signUp = (dispatch) => {\n  return async ( {email, password} ) => {\n    try {\n      const response = await tracker.post('/signup', {email:email,password:password})\n      dispatch({ type: \"SIGN_UP\", payload: response.data.token })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nconst signIn = () => {\n  // get a {email, password}\n  //send to reducer\n  // handle success by state update\n  //handle failure by showing error\n}\n\nconst signOut = () =>{\n  // get a {email, password}\n  //handle success by updating state to IF user is signed in\n}\n\nexport const {Context, Provider} = createDataContext(\n  trackReducer,\n  { signUp },\n  []\n)"],"mappings":";AAAA,OAAOA,iBAAiB;AACxB,OAAOC,OAAO;AAEd,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,MAAM,EAAEC,KAAK,EAAK;EACtC,QAAQD,MAAM,CAACE,IAAI;IACjB,KAAK,SAAS;MACZC,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACK,OAAO,CAAC;MAC3BJ,KAAK,CAACK,KAAK,GAAGN,MAAM,CAACK,OAAO;IAC9B;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC;AAED,IAAMM,MAAM,GAAG,SAATA,MAAMA,CAAIC,QAAQ,EAAK;EAC3B;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAO,WAAAC,IAAA,EAA+B;MAAA,IAAtBC,KAAK,GAAAD,IAAA,CAALC,KAAK;QAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;MAC7B,IAAI;QACF,IAAMC,QAAQ,SAAShB,OAAO,CAACiB,IAAI,CAAC,SAAS,EAAE;UAACH,KAAK,EAACA,KAAK;UAACC,QAAQ,EAACA;QAAQ,CAAC,CAAC;QAC/EL,QAAQ,CAAC;UAAEN,IAAI,EAAE,SAAS;UAAEG,OAAO,EAAES,QAAQ,CAACE,IAAI,CAACV;QAAM,CAAC,CAAC;MAC7D,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;MACpB;IACF,CAAC;IAAA,iBAAAC,EAAA;MAAA,OAAAT,KAAA,CAAAU,KAAA,OAAAC,SAAA;IAAA;EAAA;AACH,CAAC;AAED,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS,CAKrB,CAAC;AAED,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAQ,CAGrB,CAAC;AAEM,IAAAC,kBAAA,GAA4B1B,iBAAiB,CAClDE,YAAY,EACZ;IAAEQ,MAAM,EAANA;EAAO,CAAC,EACV,EACF,CAAC;EAJaiB,OAAO,GAAAD,kBAAA,CAAPC,OAAO;EAAEC,QAAQ,GAAAF,kBAAA,CAARE,QAAQ;AAI9B,SAAAD,OAAA,EAAAC,QAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}